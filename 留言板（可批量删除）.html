<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>留言板（可批量删除）</title>
</head>
<script>
window.onload=function(){
	
	var oText = document.getElementById('text1'),
		oBtn = document.getElementById('btn'),
		oUl = document.getElementById('ul1'),
		oDelete = document.getElementById('btn1'),
		flag = true;
	oBtn.onclick=function(){
		if(!oText.value){
			return false;
			}
		//新建li留言
		var oLi=document.createElement('li');
		oLi.innerHTML=oText.value;
		oLi.style.cursor='pointer';
		if(oUl.children[0]){
			oUl.insertBefore(oLi,oUl.children[0]);
			}else{
			oUl.appendChild(oLi);	
				}	
		
		oText.value='';
		
		for(var i=0; i<oUl.children.length; i++){
		    oUl.children[i].flag=true;
			oUl.children[i].onclick=function(){
				if(this.flag){
					this.mark='1';
					this.style.background='yellow';
					this.flag=!this.flag;
				}else{
					this.mark='';
					this.style.background='';
					this.flag=!this.flag;	
						}
				}
			};		
		}
		oDelete.onclick=function(){
			for(var i=0; i<oUl.children.length;i++){
				if(oUl.children[i].mark){
					oUl.removeChild(oUl.children[i]);
					i--;
					}
				}
			}	
	}

</script>

<body>
<input type="text" id='text1' /><input type="button" value="留言" id="btn" /><input type="button" value="批量删除" id="btn1" />
	<ul id="ul1"></ul>
</body>
</html>
