<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>限制字符串长度</title>
<script>
window.onload=function(){
	var limitLength=document.getElementById('limitLength');
	var clearNumber=function(tThis){//清除数字
		var _v=tThis.value,
		    _vLen=_v.length,
			dataLength=tThis.getAttribute("data-length"),//获取长度属性
			dataModel=tThis.getAttribute("data-model"),
			subLen=dataLength;
			if(_vLen>dataLength){//判断长度
				tThis.value=_v.substr(0,dataLength);
				};
	};
			limitLength.onfocus=function(){
				clearNumber(this);
				}
			limitLength.onkeyup=function(){
				clearNumber(this);
				}
			limitLength.onblur=function(){
				clearNumber(this);
				}			
		
	}
</script>
</head>

<body>
<h2>限制字符串长度</h2>
通过“maxlength”限制：<input type="text" name="lname" maxlength="5"  /><br />
通过“JavaScript事件”限制：<input type="text" data-length="5" id="limitLength"  data-model='Ch' name="lname" />
</body>
</html>
